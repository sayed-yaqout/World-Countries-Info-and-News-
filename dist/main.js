"use strict";var countries,COUNTRIES_API_KEY="https://restcountries.eu/rest/v2/all";function initialize(e){countries=e;for(var n=document.querySelector(".gallery"),t=document.getElementById("countriestemp").innerHTML,r=0;r<countries.length;r++){var o=Mustache.render(t,{flag:countries[r].flag,name:countries[r].name,capital:countries[r].capital,alpha3Code:countries[r].alpha3Code});n.innerHTML+=o}}function load_js(){var e=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js",e.appendChild(n)}function chooseCountry(e){for(var n=document.getElementById("countryCardTemp").innerHTML,t=document.getElementById("forCountry"),r=e.currentTarget.getAttribute("title"),o=countries.find((function(e){return e.alpha3Code===r})),a=o.borders,i=[],c=function(e){i[e]=countries.find((function(n){return n.alpha3Code===a[e]})).name},u=0;u<a.length;u++)c(u);var s=Mustache.render(n,{name:o.name,flag:o.flag,capital:o.capital,currency:o.currencies[0].name,language:o.languages[0].name,pop:numberWithCommas(o.population),subreg:o.subregion,timezone:o.timezones[0],nibor:i});t.innerHTML="",t.innerHTML+=s,fetchNews(o.alpha2Code)}function numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function fetchNews(e){fetch("https://newsapi.org/v2/top-headlines?country=".concat(e,"&apiKey=b5bd6df47c14464bb42f53a1fa3efa91")).then((function(e){return e.json()})).then((function(e){showNews(e),console.log(e)})).catch((function(e){return console.log("Error",e)}))}function showNews(e){var n=e,t=document.getElementById("newsTemplate").innerHTML,r=document.querySelector(".newsSection");r.innerHTML="";for(var o=0;o<n.totalResults;o++){var a=n.articles[o],i=Mustache.render(t,{Imgpath:a.urlToImage,header:a.title,details:a.description,source:a.source.name,date:a.publishedAt});r.innerHTML+=i}}fetch(COUNTRIES_API_KEY).then((function(e){return e.json()})).then((function(e){return initialize(e)})).catch((function(e){return console.log("Error",e)})),setTimeout(load_js,0);
//# sourceMappingURL=main.js.map